Partie théorique :

1) Il y a plusieurs façons qui amènent le résultat correct,
mais celle qui me paraît la plus cohérente par rapport à l'énoncé c'est :

//book

2) //book[@type='roman']/title

3) count(//book[@type='bd']/title)

4) La requête envoie tous les éléments de type 'library',
à partir de la racine.